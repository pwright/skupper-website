<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <title>Skupper - </title>
    <meta name="description" content="Multicluster communication for Kubernetes.  Skupper is a layer 7 service interconnect.  It enables secure communication across Kubernetes clusters with no VPNs or special firewall rules."/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic|Roboto+Mono:400,400italic|Alegreya+Sans:300,300italic,400,400italic,500,500italic,700,700italic;display=optional"/>
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons" defer="defer"/>
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.12.0/css/all.css" defer="defer"/>
    <link rel="stylesheet" href="/main.css"/>
    <link rel="icon" type="image/png" sizes="32x32" href="/images/skupper-icon-32.png"/>
    <link rel="icon" type="image/png" sizes="256x256" href="/images/skupper-icon-256.png"/>
    <script type="text/javascript" src="/main.js" defer="defer"></script>



    <script async="async" src="https://www.googletagmanager.com/gtag/js?id=UA-147980770-1"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag() { dataLayer.push(arguments); }
      gtag('js', new Date());
      gtag('config', 'UA-147980770-1');
    </script>
  </head>
  <body>

<header>
  <nav id="-site-nav">
    <a id="-site-menu-button" style="display: none;">
      <span class="material-icons">menu</span>
    </a>
    <div>
      <div id="-left-site-nav">
        <a href="/index.html" id="-logotype">
          <img src="/images/skupper-logo.svg"/>
          <div>Skupper</div>
        </a>
        <a href="/start/index.html">
          <div>Getting started</div>
        </a>
        <a href="/examples/index.html">
          <div>Examples</div>
        </a>
        <a href="/docs/index.html">
          <div>Documentation</div>
        </a>
        <a href="/releases/index.html">
          <div>Releases</div>
        </a>
        <a href="/community/index.html">
          <div>Community</div>
        </a>
        <a href="/news/index.html">
          <div>News</div>
        </a>
      </div>
      <div id="-right-site-nav">
        <a href="https://github.com/skupperproject">
          <div><span class="fab fa-github fa-lg"></span> GitHub</div>
        </a>
      </div>
    </div>
  </nav>
  <nav id="-path-nav"><div><a href="/skrouterd/skrouterd.conf.html"></a></div></nav>
  <nav id="-site-menu-layer" style="display: none;">
    <div>
      <a href="/index.html">Home</a>
      <a href="/start/index.html">Getting started</a>
      <a href="/examples/index.html">Examples</a>
      <a href="/docs/index.html">Documentation</a>
      <a href="/community/index.html">Community</a>
      <a href="/news/index.html">News</a>
    </div>
  </nav>
</header>


<section id="-main-and-toc">
  <div>
    <main>

<hr>


<h2>NAME
<a name="NAME"></a>
</h2>


<p style="margin-left:9%; margin-top: 1em">skrouterd.conf
&minus; configuration file for the Skupper Router.</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>


<p style="margin-left:9%; margin-top: 1em">Provides the
initial configuration when <i>skrouterd(8)</i> starts. The
configuration of a running router can be modified using
<i>skmanage(8)</i>.</p>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>


<p style="margin-left:9%; margin-top: 1em">The
configuration file is made up of sections with this
syntax:</p>

<p style="margin-left:14%; margin-top: 1em">sectionName {
<br>
attributeName: attributeValue <br>
attributeName: attributeValue <br>
... <br>
}</p>

<p style="margin-left:9%; margin-top: 1em">For example you
can define a router using the <i>router</i> section</p>

<p style="margin-left:14%; margin-top: 1em">router { <br>
mode: standalone <br>
id: Router.A <br>
... <br>
}</p>

<p style="margin-left:9%; margin-top: 1em">or define a
listener using the <i>listener</i> section</p>

<p style="margin-left:14%; margin-top: 1em">listener { <br>
host: 0.0.0.0 <br>
port: 20102 <br>
saslMechanisms: ANONYMOUS <br>
... <br>
}</p>

<p style="margin-left:9%; margin-top: 1em">or define a
connector using the <i>connector</i> section</p>

<p style="margin-left:14%; margin-top: 1em">connector {
<br>
role: inter&minus;router <br>
host: 0.0.0.0 <br>
port: 20003 <br>
saslMechanisms: ANONYMOUS <br>
... <br>
}</p>

<p style="margin-left:9%; margin-top: 1em">An
<i>sslProfile</i> section with SSL credentials can be
included in multiple <i>listener</i> or <i>connector</i>
entities. Here&rsquo;s an example, note how the
<i>sslProfile</i> attribute of <i>listener</i> sections
references the <i>name</i> attribute of <i>sslProfile</i>
sections.</p>

<p style="margin-left:14%; margin-top: 1em">sslProfile {
<br>
name: my&minus;ssl <br>
caCertFile: ca&minus;certificate&minus;1.pem <br>
certFile: server&minus;certificate&minus;1.pem <br>
privateKeyFile: server&minus;private&minus;key.pem <br>
}</p>

<p style="margin-left:14%; margin-top: 1em">listener { <br>
sslProfile: my&minus;ssl <br>
host: 0.0.0.0 <br>
port: 20102 <br>
saslMechanisms: ANONYMOUS <br>
}</p>

<h2>CONFIGURATION SECTIONS
<a name="CONFIGURATION SECTIONS"></a>
</h2>


<h3>router
<a name="router"></a>
</h3>


<p style="margin-left:9%; margin-top: 1em">Tracks peer
routers and computes routes to destinations. This entity is
mandatory. The router will not start without this
entity.</p>

<p style="margin-left:9%; margin-top: 1em"><i>id</i>
(string)</p>

<p style="margin-left:14%;">Router&rsquo;s unique identity.
This field may not contain whitespace or control characters.
If not specified, a random identity will be assigned at
startup.</p>

<p style="margin-left:9%; margin-top: 1em"><i>vanId</i>
(string)</p>

<p style="margin-left:14%;">The unique ID of the Virtual
Application Network that this router is a member of.</p>

<p style="margin-left:9%; margin-top: 1em"><i>mode</i> (One
of [<i>standalone</i>, <i>interior</i>, <i>edge</i>],
default=<i>standalone</i>)</p>

<p style="margin-left:14%;">In standalone mode, the router
operates as a single component. It does not participate in
the routing protocol and therefore will not cooperate with
other routers. In interior mode, the router operates in
cooperation with other interior routers in an interconnected
network. In edge mode, the router can make a connection to
an interior router and join a network without causing that
network to recompute paths.</p>


<p style="margin-left:9%; margin-top: 1em"><i>helloIntervalSeconds</i>
(integer, default=<i>1</i>)</p>

<p style="margin-left:14%;">Interval in seconds between
HELLO messages sent to neighbor routers.</p>


<p style="margin-left:9%; margin-top: 1em"><i>helloMaxAgeSeconds</i>
(integer, default=<i>3</i>)</p>

<p style="margin-left:14%;">Time in seconds after which a
neighbor is declared lost if no HELLO is received.</p>


<p style="margin-left:9%; margin-top: 1em"><i>raIntervalSeconds</i>
(integer, default=<i>30</i>)</p>

<p style="margin-left:14%;">Interval in seconds between
Router&minus;Advertisements sent to all routers in a stable
network.</p>


<p style="margin-left:9%; margin-top: 1em"><i>raIntervalFluxSeconds</i>
(integer, default=<i>4</i>)</p>

<p style="margin-left:14%;">Interval in seconds between
Router&minus;Advertisements sent to all routers during
topology fluctuations.</p>


<p style="margin-left:9%; margin-top: 1em"><i>remoteLsMaxAgeSeconds</i>
(integer, default=<i>60</i>)</p>

<p style="margin-left:14%;">Time in seconds after which
link state is declared stale if no RA is received.</p>


<p style="margin-left:9%; margin-top: 1em"><i>workerThreads</i>
(integer, default=<i>4</i>)</p>

<p style="margin-left:14%;">The number of threads that will
be created to process message traffic and other application
work (timers, non&minus;amqp file descriptors, etc.) .</p>


<p style="margin-left:9%; margin-top: 1em"><i>debugDumpFile</i>
(path)</p>

<p style="margin-left:14%;">The absolute path to the
location for the debug dump file. The router writes
debug&minus;level information to this file if the logger is
not available.</p>


<p style="margin-left:9%; margin-top: 1em"><i>saslConfigDir</i>
(path)</p>

<p style="margin-left:14%;">Absolute path to the SASL
configuration file.</p>


<p style="margin-left:9%; margin-top: 1em"><i>saslConfigName</i>
(string, default=<i>skrouterd</i>)</p>

<p style="margin-left:14%;">Name of the SASL configuration.
This string + <i>.conf</i> is the name of the configuration
file.</p>


<p style="margin-left:9%; margin-top: 1em"><i>timestampsInUTC</i>
(boolean)</p>

<p style="margin-left:14%;">Use UTC time rather than
localtime in logs.</p>


<p style="margin-left:9%; margin-top: 1em"><i>timestampFormat</i>
(string)</p>

<p style="margin-left:14%;">Format string to use for
timestamps in logs.</p>


<p style="margin-left:9%; margin-top: 1em"><i>defaultDistribution</i>
(One of [<i>multicast</i>, <i>closest</i>, <i>balanced</i>,
<i>unavailable</i>], default=<i>balanced</i>)</p>

<p style="margin-left:14%;">Default forwarding treatment
for any address without a specified treatment. multicast
&minus; one copy of each message delivered to all
subscribers; closest &minus; messages delivered to only the
closest subscriber; balanced &minus; messages delivered to
one subscriber with load balanced across subscribers;
unavailable &minus; this address is unavailable, messages
sent and link attaches to the address will be rejected.</p>

<p style="margin-left:9%; margin-top: 1em"><i>metadata</i>
(string)</p>

<p style="margin-left:14%;">Optional metadata text to
describe or label this router. This text does not affect the
function of the router, but it can be used by external tools
(such as orchestration software) to control how the router
is displayed.</p>


<p style="margin-left:9%; margin-top: 1em"><i>dataConnectionCount</i>
(string, default=<i>auto</i>)</p>

<p style="margin-left:14%;">The number of parallel data
connections to carry streaming data between routers. Applies
only to interior routers</p>


<p style="margin-left:9%; margin-top: 1em"><i>dropTcpConnections</i>
(boolean)</p>

<p style="margin-left:14%;">Terminate corresponding TCP
connections when a tcpListener or a tcpConnector is
deleted.</p>

<h3>sslProfile
<a name="sslProfile"></a>
</h3>


<p style="margin-left:9%; margin-top: 1em">Attributes for
setting TLS/SSL configuration for connections.</p>

<p style="margin-left:9%; margin-top: 1em"><i>ciphers</i>
(string)</p>

<p style="margin-left:14%;">Specifies the enabled ciphers
so the SSL Ciphers can be hardened. In other words, use this
field to disable weak ciphers. The ciphers are specified in
the format understood by the OpenSSL library. For example,
ciphers can be set to
ALL:!aNULL:!EXPORT56:RC4+RSA:+HIGH:+MEDIUM:+LOW:+SSLv2:+EXP;
&mdash; The full list of allowed ciphers can be viewed using
the openssl ciphers command</p>


<p style="margin-left:9%; margin-top: 1em"><i>protocols</i>
(string)</p>

<p style="margin-left:14%;">The TLS protocols that this
sslProfile can use. You can specify a list of one or more of
TLSv1, TLSv1.1, or TLSv1.2. To specify multiple protocols,
separate the protocols with a space. For example, to permit
the sslProfile to use TLS v1.1 and TLS v1.2 only, you would
set the value to TLSv1.1 TLSv1.2. If you do not specify a
value, the sslProfile uses the TLS protocol specified by the
system&minus;wide configuration.</p>


<p style="margin-left:9%; margin-top: 1em"><i>caCertFile</i>
(path)</p>

<p style="margin-left:14%;">The absolute path to the
database that contains the public certificates of trusted
certificate authorities (CA).</p>

<p style="margin-left:9%; margin-top: 1em"><i>certFile</i>
(path)</p>

<p style="margin-left:14%;">The absolute path to the file
containing the PEM&minus;formatted public certificate to be
used on the local end of any connections using this
profile.</p>


<p style="margin-left:9%; margin-top: 1em"><i>privateKeyFile</i>
(path)</p>

<p style="margin-left:14%;">The absolute path to the file
containing the PEM&minus;formatted private key for the above
certificate.</p>

<p style="margin-left:9%; margin-top: 1em"><i>password</i>
(string)</p>

<p style="margin-left:14%;">The password that unlocks the
certificate key. You can specify the password by specifying
an environment variable that stores the password, a file
that stores the password, or by entering the password in
clear text. To use an environment variable, specify
<i>password: env:&lt;var&gt;</i>. Use this option with
caution, because the environment of other processes is
visible on certain platforms (for example, ps on certain
Unix OSs). To use a file, specify <i>password:
file:&lt;absolute&minus;path&minus;to&minus;file&gt;</i>.
This option is the most secure, because permissions can be
set on the file that contains the password. To specify the
password in clear text, specify <i>password:
pass:&lt;password&gt;</i>, or <i>password:
literal:&lt;password&gt;</i>, or <i>password:
&lt;password&gt;</i>. This option is insecure, so it should
only be used if security is not a concern.</p>


<p style="margin-left:9%; margin-top: 1em"><i>uidFormat</i>
(string)</p>

<p style="margin-left:14%;">A list of x509 client
certificate fields that will be used to build a string that
will uniquely identify the client certificate owner. For
e.g. a value of <i>cou</i> indicates that the uid will
consist of c &minus; common name concatenated with o &minus;
organization&minus;company name concatenated with u &minus;
organization unit; or a value of <i>o2</i> indicates that
the uid will consist of o (organization name) concatenated
with 2 (the sha256 fingerprint of the entire certificate) .
Allowed values can be any combination of <i>c</i>( ISO3166
two character country code), <i>s</i>(state or province),
<i>l</i>(Locality; generally &minus; city),
<i>o</i>(Organization &minus; Company Name),
<i>u</i>(Organization Unit &minus; typically certificate
type or brand), <i>n</i>(CommonName &minus; typically a user
name for client certificates) and <i>1</i>(sha1 certificate
fingerprint, as displayed in the fingerprints section when
looking at a certificate with say a web browser is the hash
of the entire certificate) and 2 (sha256 certificate
fingerprint) and 5 (sha512 certificate fingerprint). The
user identifier (uid) that is generated based on the
uidFormat is a string which has a semi&minus;colon as a
separator between the components</p>


<p style="margin-left:9%; margin-top: 1em"><i>uidNameMappingFile</i>
(string)</p>

<p style="margin-left:14%;">The absolute path to the file
containing the unique id to display name mapping</p>

<h3>listener
<a name="listener"></a>
</h3>


<p style="margin-left:9%; margin-top: 1em">Listens for
incoming connections to the router.</p>

<p style="margin-left:9%; margin-top: 1em"><i>host</i>
(string)</p>

<p style="margin-left:14%;">A host name, IPV4 or IPV6
literal, or the empty string. The empty string listens on
all local addresses. A host name listens on all addresses
associated with the name. An IPV6 literal address (or
wildcard <i>[::]</i>) listens only for IPV6. An IPV4 literal
address (or wildcard <i>0.0.0.0</i>) listens only for
IPV4.</p>

<p style="margin-left:9%; margin-top: 1em"><i>port</i>
(string, default=<i>amqp</i>)</p>

<p style="margin-left:14%;">Port number or symbolic service
name. If <i>0</i>, the router shall assign an ephemeral port
to the listener and log the port number with a log of the
form <i>SERVER (info) Listening on
&lt;host&gt;:&lt;assigned&minus;port&gt;
(&lt;listener&minus;name&gt;)</i></p>


<p style="margin-left:9%; margin-top: 1em"><i>socketAddressFamily</i>
(One of [<i>IPv4</i>, <i>IPv6</i>])</p>

<p style="margin-left:14%;">[<i>IPv4</i>, <i>IPv6</i>]
IPv4: Internet Protocol version 4; IPv6: Internet Protocol
version 6. If not specified, the protocol family will be
automatically determined from the address.</p>

<p style="margin-left:9%; margin-top: 1em"><i>role</i> (One
of [<i>normal</i>, <i>inter&minus;router</i>,
<i>route&minus;container</i>, <i>edge</i>,
<i>inter&minus;edge</i>], default=<i>normal</i>)</p>

<p style="margin-left:14%;">The role of an established
connection. In the normal role, the connection is assumed to
be used for AMQP clients that are doing normal message
delivery over the connection. In the inter&minus;router
role, the connection is assumed to be to another router in
the network. Inter&minus;router discovery and routing
protocols can only be used over inter&minus;router
connections. route&minus;container role can be used for
router&minus;container connections, for example, a
router&minus;broker connection. In the edge role, the
connection is assumed to be between an edge router and an
interior router.</p>

<p style="margin-left:9%; margin-top: 1em"><i>cost</i>
(integer, default=<i>1</i>)</p>

<p style="margin-left:14%;">For the
<i>inter&minus;router</i> role only. This value assigns a
cost metric to the inter&minus;router connection. The
default (and minimum) value is one. Higher values represent
higher costs. The cost is used to influence the routing
algorithm as it attempts to use the path with the lowest
total cost from ingress to egress.</p>


<p style="margin-left:9%; margin-top: 1em"><i>sslProfile</i>
(string)</p>

<p style="margin-left:14%;">Name of the sslProfile.</p>


<p style="margin-left:9%; margin-top: 1em"><i>saslMechanisms</i>
(string)</p>

<p style="margin-left:14%;">Space separated list of
accepted SASL authentication mechanisms.</p>


<p style="margin-left:9%; margin-top: 1em"><i>authenticatePeer</i>
(boolean)</p>

<p style="margin-left:14%;">yes: Require the peer&rsquo;s
identity to be authenticated; no: Do not require any peer
authentication.</p>


<p style="margin-left:9%; margin-top: 1em"><i>requireEncryption</i>
(boolean)</p>

<p style="margin-left:14%;">yes: Require the connection to
the peer to be encrypted; no: Permit non&minus;encrypted
communication with the peer</p>


<p style="margin-left:9%; margin-top: 1em"><i>requireSsl</i>
(boolean)</p>

<p style="margin-left:14%;">yes: Require the use of SSL or
TLS on the connection; no: Allow clients to connect without
SSL or TLS.</p>


<p style="margin-left:9%; margin-top: 1em"><i>maxFrameSize</i>
(integer, default=<i>16384</i>)</p>

<p style="margin-left:14%;">The maximum frame size in
octets that will be used in the connection&minus;open
negotiation with a connected peer. The frame size is the
largest contiguous set of uninterrupted data that can be
sent for a message delivery over the connection.
Interleaving of messages on different links is done at frame
granularity. Policy settings, if specified, will overwrite
this value. Defaults to 16384.</p>


<p style="margin-left:9%; margin-top: 1em"><i>maxSessions</i>
(integer, default=<i>32768</i>)</p>

<p style="margin-left:14%;">The maximum number of sessions
that can be simultaneously active on the connection. Setting
this value to zero selects the default number of sessions.
Policy settings, if specified, will overwrite this value.
Defaults to 32768.</p>


<p style="margin-left:9%; margin-top: 1em"><i>maxSessionFrames</i>
(integer)</p>

<p style="margin-left:14%;">Session incoming window
measured in transfer frames for sessions created on this
connection. This is the number of transfer frames that may
simultaneously be in flight for all links in the session.
Setting this value to zero selects the default session
window size. Policy settings, if specified, will overwrite
this value. The numerical product of maxFrameSize and
maxSessionFrames may not exceed 231&minus;1. If
(maxFrameSize x maxSessionFrames) exceeds 231&minus;1 then
maxSessionFrames is reduced to (2&#710;31&minus;1 /
maxFrameSize). maxSessionFrames has a minimum value of 1.
Defaults to 0 (unlimited window).</p>


<p style="margin-left:9%; margin-top: 1em"><i>idleTimeoutSeconds</i>
(integer, default=<i>16</i>)</p>

<p style="margin-left:14%;">The idle timeout, in seconds,
for connections through this listener. If no frames are
received on the connection for this time interval, the
connection shall be closed.</p>


<p style="margin-left:9%; margin-top: 1em"><i>initialHandshakeTimeoutSeconds</i>
(integer)</p>

<p style="margin-left:14%;">The timeout, in seconds, for
the initial handshake for connections coming in through
listeners. If the time interval expires before the peer
sends the AMQP OPEN frame, the connection shall be closed. A
value of zero (the default) disables this timeout.</p>


<p style="margin-left:9%; margin-top: 1em"><i>stripAnnotations</i>
(One of [<i>in</i>, <i>out</i>, <i>both</i>, <i>no</i>],
default=<i>both</i>)</p>

<p style="margin-left:14%;">[<i>in</i>, <i>out</i>,
<i>both</i>, <i>no</i>] in: Strip the dispatch router
specific annotations only on ingress; out: Strip the
dispatch router specific annotations only on egress; both:
Strip the dispatch router specific annotations on both
ingress and egress; no &minus; do not strip dispatch router
specific annotations</p>


<p style="margin-left:9%; margin-top: 1em"><i>linkCapacity</i>
(integer)</p>

<p style="margin-left:14%;">The capacity of links within
this connection, in terms of message deliveries. The
capacity is the number of messages that can be
in&minus;flight concurrently for each link.</p>


<p style="margin-left:9%; margin-top: 1em"><i>failoverUrls</i>
(string)</p>

<p style="margin-left:14%;">A comma&minus;separated list of
failover urls to be supplied to connected clients. Form:
[(amqp|amqps|ws|wss)://]host_or_ip[:port]</p>

<p style="margin-left:9%; margin-top: 1em"><i>healthz</i>
(boolean, default=<i>True</i>)</p>

<p style="margin-left:14%;">Provide a simple HTTP based
liveness test (using path /healthz). Assumes listener is
enabled for http.</p>

<p style="margin-left:9%; margin-top: 1em"><i>metrics</i>
(boolean, default=<i>True</i>)</p>

<p style="margin-left:14%;">Export metrics in prometheus
text format for the router (using path /metrics). Assumes
listener is enabled for http.</p>


<p style="margin-left:9%; margin-top: 1em"><i>websockets</i>
(boolean, default=<i>True</i>)</p>

<p style="margin-left:14%;">For an http enabled listener,
determines whether websockets access is enabled (true by
default).</p>

<p style="margin-left:9%; margin-top: 1em"><i>http</i>
(boolean)</p>

<p style="margin-left:14%;">Accept HTTP connections that
can upgrade to AMQP over WebSocket. Plain AMQP connections
are not accepted on this listener.</p>


<p style="margin-left:9%; margin-top: 1em"><i>httpRootDir</i>
(path)</p>

<p style="margin-left:14%;">Absolute path to a directory
from which to serve static HTML files (typically
/usr/share/skupper&minus;router/html).</p>


<p style="margin-left:9%; margin-top: 1em"><i>messageLoggingComponents</i>
(string, default=<i>none</i>)</p>

<p style="margin-left:14%;">A comma separated list that
indicates which components of the message should be logged.
Defaults to <i>none</i> (log nothing). If you want all
properties and application properties of the message logged
use <i>all</i>. Specific components of the message can be
logged by indicating the components via a comma separated
list. The components are message&minus;id, user&minus;id,
to, subject, reply&minus;to, correlation&minus;id,
content&minus;type, content&minus;encoding,
absolute&minus;expiry&minus;time, creation&minus;time,
group&minus;id, group&minus;sequence,
reply&minus;to&minus;group&minus;id, app&minus;properties.
The application&minus;data part of the bare message will not
be logged. No spaces are allowed</p>


<p style="margin-left:9%; margin-top: 1em"><i>policyVhost</i>
(string)</p>

<p style="margin-left:14%;">A listener may optionally
define a virtual host to index to a specific policy to
restrict the remote container to access only specific
resources. This attribute defines the name of the policy
vhost for this listener. If multi&minus;tenancy is enabled
for the listener, this vhost will override the
peer&minus;supplied vhost for the purposes of identifying
the desired policy settings for the connections.</p>


<p style="margin-left:9%; margin-top: 1em"><i>openProperties</i>
(properties)</p>

<p style="margin-left:14%;">A JSON map containing
connection properties. These will be sent to the peer on
connection open. All map keys are restricted to strings
containing only valid ASCII characters, Keys must not start
with prefixes <i>qd.</i> or <i>x&minus;opt&minus;qd.</i>.
The following key values are also reserved: <i>product</i>,
<i>version</i>, <i>failover&minus;server&minus;list</i>,
<i>network&minus;host</i>, <i>port</i>, <i>scheme
hostname</i></p>

<h3>connector
<a name="connector"></a>
</h3>


<p style="margin-left:9%; margin-top: 1em">Establishes an
outgoing connection from the router.</p>

<p style="margin-left:9%; margin-top: 1em"><i>host</i>
(string, default=<i>127.0.0.1</i>)</p>

<p style="margin-left:14%;">IP address: ipv4 or ipv6
literal or a host name</p>

<p style="margin-left:9%; margin-top: 1em"><i>port</i>
(string, default=<i>amqp</i>)</p>

<p style="margin-left:14%;">Port number or symbolic service
name.</p>


<p style="margin-left:9%; margin-top: 1em"><i>socketAddressFamily</i>
(One of [<i>IPv4</i>, <i>IPv6</i>])</p>

<p style="margin-left:14%;">[<i>IPv4</i>, <i>IPv6</i>]
IPv4: Internet Protocol version 4; IPv6: Internet Protocol
version 6. If not specified, the protocol family will be
automatically determined from the address.</p>

<p style="margin-left:9%; margin-top: 1em"><i>role</i> (One
of [<i>normal</i>, <i>inter&minus;router</i>,
<i>route&minus;container</i>, <i>edge</i>,
<i>inter&minus;edge</i>], default=<i>normal</i>)</p>

<p style="margin-left:14%;">The role of an established
connection. In the normal role, the connection is assumed to
be used for AMQP clients that are doing normal message
delivery over the connection. In the inter&minus;router
role, the connection is assumed to be to another router in
the network. Inter&minus;router discovery and routing
protocols can only be used over inter&minus;router
connections. route&minus;container role can be used for
router&minus;container connections, for example, a
router&minus;broker connection. In the edge role, the
connection is assumed to be between and edge router and an
interior router.</p>

<p style="margin-left:9%; margin-top: 1em"><i>cost</i>
(integer, default=<i>1</i>)</p>

<p style="margin-left:14%;">For the
<i>inter&minus;router</i> role only. This value assigns a
cost metric to the inter&minus;router connection. The
default (and minimum) value is one. Higher values represent
higher costs. The cost is used to influence the routing
algorithm as it attempts to use the path with the lowest
total cost from ingress to egress.</p>


<p style="margin-left:9%; margin-top: 1em"><i>sslProfile</i>
(string)</p>

<p style="margin-left:14%;">Name of the sslProfile.</p>


<p style="margin-left:9%; margin-top: 1em"><i>saslMechanisms</i>
(string)</p>

<p style="margin-left:14%;">Space separated list of
accepted SASL authentication mechanisms.</p>


<p style="margin-left:9%; margin-top: 1em"><i>allowRedirect</i>
(boolean, default=<i>True</i>)</p>

<p style="margin-left:14%;">Allow the peer to redirect this
connection to another address.</p>


<p style="margin-left:9%; margin-top: 1em"><i>maxFrameSize</i>
(integer, default=<i>16384</i>)</p>

<p style="margin-left:14%;">The maximum frame size in
octets that will be used in the connection&minus;open
negotiation with a connected peer. The frame size is the
largest contiguous set of uninterrupted data that can be
sent for a message delivery over the connection.
Interleaving of messages on different links is done at frame
granularity. Policy settings will not overwrite this value.
Defaults to 16384.</p>


<p style="margin-left:9%; margin-top: 1em"><i>maxSessions</i>
(integer, default=<i>32768</i>)</p>

<p style="margin-left:14%;">The maximum number of sessions
that can be simultaneously active on the connection. Setting
this value to zero selects the default number of sessions.
Policy settings will not overwrite this value. Defaults to
32768.</p>


<p style="margin-left:9%; margin-top: 1em"><i>maxSessionFrames</i>
(integer)</p>

<p style="margin-left:14%;">Session incoming window
measured in transfer frames for sessions created on this
connection. This is the number of transfer frames that may
simultaneously be in flight for all links in the session.
Setting this value to zero selects the default session
window size. Policy settings will not overwrite this value.
The numerical product of maxFrameSize and maxSessionFrames
may not exceed 231&minus;1. If (maxFrameSize x
maxSessionFrames) exceeds 231&minus;1 then maxSessionFrames
is reduced to (2&#710;31&minus;1 / maxFrameSize).
maxSessionFrames has a minimum value of 1. Defaults to 0
(unlimited window).</p>


<p style="margin-left:9%; margin-top: 1em"><i>idleTimeoutSeconds</i>
(integer, default=<i>16</i>)</p>

<p style="margin-left:14%;">The idle timeout, in seconds,
for connections through this connector. If no frames are
received on the connection for this time interval, the
connection shall be closed.</p>


<p style="margin-left:9%; margin-top: 1em"><i>stripAnnotations</i>
(One of [<i>in</i>, <i>out</i>, <i>both</i>, <i>no</i>],
default=<i>both</i>)</p>

<p style="margin-left:14%;">[<i>in</i>, <i>out</i>,
<i>both</i>, <i>no</i>] in: Strip the dispatch router
specific annotations only on ingress; out: Strip the
dispatch router specific annotations only on egress; both:
Strip the dispatch router specific annotations on both
ingress and egress; no &minus; do not strip dispatch router
specific annotations</p>


<p style="margin-left:9%; margin-top: 1em"><i>linkCapacity</i>
(integer)</p>

<p style="margin-left:14%;">The capacity of links within
this connection, in terms of message deliveries. The
capacity is the number of messages that can be
in&minus;flight concurrently for each link.</p>


<p style="margin-left:9%; margin-top: 1em"><i>verifyHostname</i>
(boolean, default=<i>True</i>)</p>

<p style="margin-left:14%;">yes: Ensures that when
initiating a connection (as a client) the host name in the
URL to which this connector connects to matches the host
name in the digital certificate that the peer sends back as
part of the SSL connection; no: Does not perform host name
verification</p>


<p style="margin-left:9%; margin-top: 1em"><i>saslUsername</i>
(string)</p>

<p style="margin-left:14%;">The user name that the
connector is using to connect to a peer.</p>


<p style="margin-left:9%; margin-top: 1em"><i>saslPassword</i>
(string)</p>

<p style="margin-left:14%;">The password that the connector
is using to connect to a peer. You can specify the password
by specifying an environment variable that stores the
password, a file that stores the password, or by entering
the password in clear text. To use an environment variable,
specify <i>saslPassword: env:&lt;var&gt;</i>. Use this
option with caution, because the environment of other
processes is visible on certain platforms (for example, ps
on certain Unix OSs). To use a file, specify
<i>saslPassword:
file:&lt;absolute&minus;path&minus;to&minus;file&gt;</i>.
This option is the most secure, because permissions can be
set on the file that contains the password. To specify the
password in clear text, specify <i>saslPassword:
pass:&lt;password&gt;</i> or <i>saslPassword:
&lt;password&gt;</i>. This option is insecure, so it should
only be used if security is not a concern.</p>


<p style="margin-left:9%; margin-top: 1em"><i>messageLoggingComponents</i>
(string, default=<i>none</i>)</p>

<p style="margin-left:14%;">A comma separated list that
indicates which components of the message should be logged
(no spaces allowed between list components). Defaults to
<i>none</i> (log nothing). If you want all properties and
application properties of the message logged use <i>all</i>.
Specific components of the message can be logged by
indicating the components via a comma separated list. The
components are message&minus;id, user&minus;id, to, subject,
reply&minus;to, correlation&minus;id, content&minus;type,
content&minus;encoding, absolute&minus;expiry&minus;time,
creation&minus;time, group&minus;id, group&minus;sequence,
reply&minus;to&minus;group&minus;id, app&minus;properties.
The application&minus;data part of the bare message will not
be logged. This log message is written to the MESSAGE
logging module. In the <i>log</i> entity, set <i>module</i>
property to MESSAGE or DEFAULT and <i>enable</i> to debug+
to see this log message</p>


<p style="margin-left:9%; margin-top: 1em"><i>policyVhost</i>
(string)</p>

<p style="margin-left:14%;">A connector may optionally
define a policy to restrict the remote container to access
only specific resources. This attribute defines the name of
the policy vhost for this connector. Within the vhost the
connector will use the vhost policy settings from user group
<i>$connector</i>. If the vhost policy is absent or if the
user group <i>$connector</i> within that policy is absent
then the connector will fail to start. In policy specified
via connector attribute <i>policyVhost</i> the following
vhostUserGroupSettings attributes are unused: <i>users</i>,
<i>remoteHosts</i>, <i>maxFrameSize</i>,
<i>maxSessionWindow</i>, <i>maxSessions</i>.</p>


<p style="margin-left:9%; margin-top: 1em"><i>openProperties</i>
(properties)</p>

<p style="margin-left:14%;">A JSON map containing
connection properties. These will be sent to the peer on
connection open. All map keys are restricted to strings
containing only valid ASCII characters, Keys must not start
with prefixes <i>qd.</i> or <i>x&minus;opt&minus;qd.</i>.
The following key values are also reserved: <i>product</i>,
<i>version</i>, <i>failover&minus;server&minus;list</i>,
<i>network&minus;host</i>, <i>port</i>, <i>scheme
hostname</i></p>

<h3>httpListener
<a name="httpListener"></a>
</h3>


<p style="margin-left:9%; margin-top: 1em">Ingress HTTP
bridge.</p>

<p style="margin-left:9%; margin-top: 1em"><i>host</i>
(string, default=<i>0.0.0.0</i>)</p>

<p style="margin-left:14%;">A host name, IPV4 or IPV6
literal, or the empty string. The empty string listens on
all local addresses. A host name listens on all addresses
associated with the name. An IPV6 literal address (or
wildcard <i>[::]</i>) listens only for IPV6. An IPV4 literal
address (or wildcard <i>0.0.0.0</i>) listens only for
IPV4.</p>

<p style="margin-left:9%; margin-top: 1em"><i>address</i>
(string)</p>

<p style="margin-left:14%;">Address of this http bridge</p>

<p style="margin-left:9%; margin-top: 1em"><i>port</i>
(string)</p>

<p style="margin-left:14%;">Port number or symbolic service
name. If <i>0</i>, the router shall assign an ephemeral port
to the listener and log the port number with a log of the
form <i>SERVER (info) Listening on
&lt;host&gt;:&lt;assigned&minus;port&gt;
(&lt;listener&minus;name&gt;)</i></p>

<p style="margin-left:9%; margin-top: 1em"><i>backlog</i>
(integer)</p>

<p style="margin-left:14%;">Sets the value of the backlog
parameter in call to listen(). This controls the maximum
queue depth the OS will use for some stages of TCP
connection creation. Value should be integer &gt;= 0. If 0,
the value will be set to the upper limit allowed by the OS.
Otherwise it will be the value provided. Higher values
significantly improve
connections&minus;per&minus;second.</p>

<p style="margin-left:9%; margin-top: 1em"><i>siteId</i>
(string)</p>

<p style="margin-left:14%;">Used to identify where request
is handled.</p>


<p style="margin-left:9%; margin-top: 1em"><i>sslProfile</i>
(string)</p>

<p style="margin-left:14%;">Name of the sslProfile.</p>


<p style="margin-left:9%; margin-top: 1em"><i>authenticatePeer</i>
(boolean)</p>

<p style="margin-left:14%;">yes: Require the peer&rsquo;s
identity to be authenticated; no: Do not require any
authentication.</p>


<p style="margin-left:9%; margin-top: 1em"><i>protocolVersion</i>
(One of [<i>HTTP1</i>, <i>HTTP2</i>],
default=<i>HTTP1</i>)</p>

<p style="margin-left:14%;">The version of the HTTP
protocol supported by this listener.</p>


<p style="margin-left:9%; margin-top: 1em"><i>aggregation</i>
(One of [<i>multipart</i>, <i>json</i>])</p>

<p style="margin-left:14%;">Aggregation mode for responses
when used in conjunction with multicast address.</p>


<p style="margin-left:9%; margin-top: 1em"><i>eventChannel</i>
(boolean)</p>

<p style="margin-left:14%;">Enables restricted event mode
where no responses are sent to request and only post is
allowed</p>

<h3>httpConnector
<a name="httpConnector"></a>
</h3>


<p style="margin-left:9%; margin-top: 1em">Egress HTTP
bridge.</p>

<p style="margin-left:9%; margin-top: 1em"><i>address</i>
(string)</p>

<p style="margin-left:14%;">Address of this bridge</p>

<p style="margin-left:9%; margin-top: 1em"><i>host</i>
(string, default=<i>127.0.0.1</i>)</p>

<p style="margin-left:14%;">IP address: ipv4 or ipv6
literal or a host name</p>

<p style="margin-left:9%; margin-top: 1em"><i>siteId</i>
(string)</p>

<p style="margin-left:14%;">Used to identify where request
originates.</p>

<p style="margin-left:9%; margin-top: 1em"><i>port</i>
(string)</p>

<p style="margin-left:14%;">Port number or symbolic service
name.</p>


<p style="margin-left:9%; margin-top: 1em"><i>sslProfile</i>
(string)</p>

<p style="margin-left:14%;">Name of the sslProfile.</p>


<p style="margin-left:9%; margin-top: 1em"><i>protocolVersion</i>
(One of [<i>HTTP1</i>, <i>HTTP2</i>],
default=<i>HTTP1</i>)</p>

<p style="margin-left:14%;">The version of the HTTP
protocol supported by this connector.</p>


<p style="margin-left:9%; margin-top: 1em"><i>aggregation</i>
(One of [<i>multipart</i>, <i>json</i>])</p>

<p style="margin-left:14%;">Aggregation mode for responses
when used in conjunction with multicast address.</p>


<p style="margin-left:9%; margin-top: 1em"><i>eventChannel</i>
(boolean)</p>

<p style="margin-left:14%;">Enables restricted event mode
where no responses are sent to request and only post is
allowed</p>


<p style="margin-left:9%; margin-top: 1em"><i>verifyHostname</i>
(boolean, default=<i>True</i>)</p>

<p style="margin-left:14%;">yes: Ensures that when
initiating a connection (as a client) the host name in the
URL to which this connector connects to matches the host
name in the digital certificate that the peer sends back as
part of the TLS connection; no: Does not perform host name
verification</p>


<p style="margin-left:9%; margin-top: 1em"><i>hostOverride</i>
(string)</p>

<p style="margin-left:14%;">Used to override the value of
the Host header sent to the client.</p>


<p style="margin-left:9%; margin-top: 1em"><i>verifyHostName</i>
(boolean, default=<i>True</i>)</p>

<p style="margin-left:14%;">(DEPRECATED) yes: Ensures that
when initiating a connection (as a client) the host name in
the URL to which this connector connects to matches the host
name in the digital certificate that the peer sends back as
part of the TLS connection; no: Does not perform host name
verification This attribute has been deprecated. Use
verifyHostname instead.</p>

<h3>tcpListener
<a name="tcpListener"></a>
</h3>


<p style="margin-left:9%; margin-top: 1em">Ingress TCP
bridge.</p>

<p style="margin-left:9%; margin-top: 1em"><i>address</i>
(string)</p>

<p style="margin-left:14%;">Address of this bridge</p>

<p style="margin-left:9%; margin-top: 1em"><i>host</i>
(string, default=<i>0.0.0.0</i>)</p>

<p style="margin-left:14%;">A host name, IPV4 or IPV6
literal, or the empty string. The empty string listens on
all local addresses. A host name listens on all addresses
associated with the name. An IPV6 literal address (or
wildcard <i>[::]</i>) listens only for IPV6. An IPV4 literal
address (or wildcard <i>0.0.0.0</i>) listens only for
IPV4.</p>

<p style="margin-left:9%; margin-top: 1em"><i>backlog</i>
(integer)</p>

<p style="margin-left:14%;">Sets the value of the backlog
parameter in call to listen(). This controls the maximum
queue depth the OS will use for some stages of TCP
connection creation. Value should be integer &gt;= 0. If 0,
the value will be set to the upper limit allowed by the OS.
Otherwise it will be the value provided. Higher values
significantly improve
connections&minus;per&minus;second.</p>

<p style="margin-left:9%; margin-top: 1em"><i>port</i>
(string)</p>

<p style="margin-left:14%;">Port number or symbolic service
name. If <i>0</i>, the router shall assign an ephemeral port
to the listener and log the port number with a log of the
form <i>SERVER (info) Listening on
&lt;host&gt;:&lt;assigned&minus;port&gt;
(&lt;listener&minus;name&gt;)</i></p>

<p style="margin-left:9%; margin-top: 1em"><i>siteId</i>
(string)</p>

<p style="margin-left:14%;">Used to identify where
connection is handled.</p>


<p style="margin-left:9%; margin-top: 1em"><i>sslProfile</i>
(string)</p>

<p style="margin-left:14%;">Name of the sslProfile.</p>


<p style="margin-left:9%; margin-top: 1em"><i>authenticatePeer</i>
(boolean)</p>

<p style="margin-left:14%;">yes: Require the peer&rsquo;s
identity to be authenticated; no: Do not require any
authentication.</p>


<p style="margin-left:9%; margin-top: 1em"><i>encapsulation</i>
(One of [<i>legacy</i>, <i>lite</i>],
default=<i>legacy</i>)</p>

<p style="margin-left:14%;">legacy: Use the original
chunked TCP adaptor encapsulation; lite: use the
raw/cut&minus;through encapsulation</p>

<h3>tcpConnector
<a name="tcpConnector"></a>
</h3>


<p style="margin-left:9%; margin-top: 1em">Egress TCP
bridge.</p>

<p style="margin-left:9%; margin-top: 1em"><i>address</i>
(string)</p>

<p style="margin-left:14%;">Address of this bridge</p>

<p style="margin-left:9%; margin-top: 1em"><i>host</i>
(string)</p>

<p style="margin-left:14%;">IP address: ipv4 or ipv6
literal or a host name</p>

<p style="margin-left:9%; margin-top: 1em"><i>port</i>
(string)</p>

<p style="margin-left:14%;">Port number or symbolic service
name.</p>

<p style="margin-left:9%; margin-top: 1em"><i>siteId</i>
(string)</p>

<p style="margin-left:14%;">Used to identify origin of
connections.</p>


<p style="margin-left:9%; margin-top: 1em"><i>sslProfile</i>
(string)</p>

<p style="margin-left:14%;">Name of the sslProfile.</p>


<p style="margin-left:9%; margin-top: 1em"><i>verifyHostname</i>
(boolean, default=<i>True</i>)</p>

<p style="margin-left:14%;">yes: Ensures that when
initiating a connection (as a client) the host name in the
URL to which this connector connects to matches the host
name in the digital certificate that the peer sends back as
part of the TLS connection; no: Does not perform host name
verification</p>


<p style="margin-left:9%; margin-top: 1em"><i>encapsulation</i>
(One of [<i>legacy</i>, <i>lite</i>],
default=<i>legacy</i>)</p>

<p style="margin-left:14%;">legacy: Use the original
chunked TCP adaptor encapsulation; lite: use the
raw/cut&minus;through encapsulation</p>

<h3>log
<a name="log"></a>
</h3>


<p style="margin-left:9%; margin-top: 1em">Configure
logging for a particular module. You can use the UPDATE
operation to change log settings while the router is
running.</p>

<p style="margin-left:9%; margin-top: 1em"><i>module</i>
(One of [<i>ROUTER</i>, <i>ROUTER_CORE</i>,
<i>ROUTER_HELLO</i>, <i>ROUTER_LS</i>, <i>ROUTER_MA</i>,
<i>MESSAGE</i>, <i>SERVER</i>, <i>AGENT</i>,
<i>CONTAINER</i>, <i>ERROR</i>, <i>POLICY</i>, <i>HTTP</i>,
<i>CONN_MGR</i>, <i>PYTHON</i>, <i>PROTOCOL</i>,
<i>TCP_ADAPTOR</i>, <i>HTTP_ADAPTOR</i>, <i>FLOW_LOG</i>,
<i>ADDRESS_WATCH</i>, <i>DEFAULT</i>], required)</p>

<p style="margin-left:14%;">Module to configure. The
special module <i>DEFAULT</i> specifies defaults for all
modules.</p>

<p style="margin-left:9%; margin-top: 1em"><i>enable</i>
(string)</p>

<p style="margin-left:14%;">Levels are: debug, info,
warning, error, critical. The enable string is a
comma&minus;separated list of levels. A level may have a
trailing <i>+</i> to enable that level and above. For
example <i>debug,warning+</i> means enable debug, warning,
error and critical. The value <i>none</i> means disable
logging for the module.</p>


<p style="margin-left:9%; margin-top: 1em"><i>includeTimestamp</i>
(boolean)</p>

<p style="margin-left:14%;">Include timestamp in log
messages.</p>


<p style="margin-left:9%; margin-top: 1em"><i>includeSource</i>
(boolean)</p>

<p style="margin-left:14%;">Include source file and line
number in log messages.</p>


<p style="margin-left:9%; margin-top: 1em"><i>outputFile</i>
(string)</p>

<p style="margin-left:14%;">Where to send log messages. Can
be <i>stderr</i>, <i>stdout</i>, <i>syslog</i> or a file
name.</p>

<h3>address
<a name="address"></a>
</h3>


<p style="margin-left:9%; margin-top: 1em">Entity type for
address configuration. This is used to configure the
treatment of message&minus;routed deliveries within a
particular address&minus;space. The configuration controls
distribution and address phasing.</p>

<p style="margin-left:9%; margin-top: 1em"><i>prefix</i>
(string)</p>

<p style="margin-left:14%;">The address prefix for the
configured settings. Cannot be used with a pattern
attribute.</p>

<p style="margin-left:9%; margin-top: 1em"><i>pattern</i>
(string)</p>

<p style="margin-left:14%;">A wildcarded pattern for
address matching. Incoming addresses are matched against
this pattern. Matching addresses use the configured
settings. The pattern consists of one or more tokens
separated by a forward slash <i>/</i>. A token can be one of
the following: a * character, a # character, or a sequence
of characters that do not include /, *, or #. The * token
matches any single token. The # token matches zero or more
tokens. * has higher precedence than #, and exact match has
the highest precedence. Cannot be used with a prefix
attribute.</p>


<p style="margin-left:9%; margin-top: 1em"><i>distribution</i>
(One of [<i>multicast</i>, <i>closest</i>, <i>balanced</i>,
<i>unavailable</i>], default=<i>balanced</i>)</p>

<p style="margin-left:14%;">Treatment of traffic associated
with the address</p>

<p style="margin-left:9%; margin-top: 1em"><i>priority</i>
(integer)</p>

<p style="margin-left:14%;">All messages sent to this
address which lack an intrinsic priority will be assigned
this priority.</p>

<h3>autoLink
<a name="autoLink"></a>
</h3>


<p style="margin-left:9%; margin-top: 1em">Entity type for
configuring auto&minus;links. Auto&minus;links are links
whose lifecycle is managed by the router.</p>

<p style="margin-left:9%; margin-top: 1em"><i>address</i>
(string, required)</p>

<p style="margin-left:14%;">The address of the provisioned
object</p>


<p style="margin-left:9%; margin-top: 1em"><i>direction</i>
(One of [<i>in</i>, <i>out</i>], required)</p>

<p style="margin-left:14%;">The direction of the link to be
created. In means into the router, out means out of the
router.</p>


<p style="margin-left:9%; margin-top: 1em"><i>containerId</i>
(string)</p>

<p style="margin-left:14%;">ContainerID for the target
container. Only one of containerId or connection should be
specified for an autoLink. Specifying both will result in
the autoLink not being created</p>


<p style="margin-left:9%; margin-top: 1em"><i>connection</i>
(string)</p>

<p style="margin-left:14%;">The name from a connector or
listener. Only one of containerId or connection should be
specified for an autoLink. Specifying both will result in
the autoLink not being created</p>


<p style="margin-left:9%; margin-top: 1em"><i>externalAddress</i>
(string)</p>

<p style="margin-left:14%;">If present, an alternate
address of the node on the remote container. This is used if
the node has a different address than the address used
internally by the router to route deliveries.</p>

<h3>policy
<a name="policy"></a>
</h3>


<p style="margin-left:9%; margin-top: 1em">Defines global
connection limit</p>


<p style="margin-left:9%; margin-top: 1em"><i>maxConnections</i>
(integer, default=<i>65535</i>)</p>

<p style="margin-left:14%;">The maximum number of
concurrent client connections allowed for this router. This
limit is always enforced, even if no other policy settings
have been defined. The limit is applied to all incoming
connections regardless of remote host, authenticated user,
or targeted vhost.</p>


<p style="margin-left:9%; margin-top: 1em"><i>maxMessageSize</i>
(integer)</p>

<p style="margin-left:14%;">The maximum size in bytes of
AMQP message transfers allowed for this router as messages
enter the router network. This limit is applied to transfers
over user connections and to transfers to interior routers
from edge routers. This limit is not applied to
interior&minus;to&minus;interior router connections. This
limit may be overridden by vhost or by vhost user group
settings. A value of zero disables this limit.
Administrators are advised not set interior router maximum
message sizes so low that edge router management requests or
responses are blocked. Administrators are also advised to
set edge router maximum message sizes lower than the
attached interior router maximum message size.</p>


<p style="margin-left:9%; margin-top: 1em"><i>enableVhostPolicy</i>
(boolean)</p>

<p style="margin-left:14%;">Enables the router to enforce
the connection denials and resource limits defined in the
configured vhost policies.</p>


<p style="margin-left:9%; margin-top: 1em"><i>enableVhostNamePatterns</i>
(boolean)</p>

<p style="margin-left:14%;">Enable vhost name patterns.
When false vhost hostnames are treated as literal strings.
When true vhost hostnames are treated as match patterns.</p>


<p style="margin-left:9%; margin-top: 1em"><i>policyDir</i>
(path)</p>

<p style="margin-left:14%;">The absolute path to a
directory that holds vhost policy definition files in JSON
format (*.json). The router processes all of the vhost
policies in each JSON file that is in this directory.</p>


<p style="margin-left:9%; margin-top: 1em"><i>defaultVhost</i>
(string)</p>

<p style="margin-left:14%;">The name of the default vhost
policy. This policy rule set is applied to a connection for
which a vhost policy has not otherwise been configured.
Processing for the default vhost is enabled by default and
set to select vhost <i>$default</i>. To disable default
vhost processing set defaultVhost to blank or do not define
a vhost named <i>$default</i>.</p>

<h3>vhost
<a name="vhost"></a>
</h3>


<p style="margin-left:9%; margin-top: 1em">AMQP virtual
host policy definition of users, user groups, allowed remote
hosts, and AMQP restrictions.</p>

<p style="margin-left:9%; margin-top: 1em"><i>hostname</i>
(string, required)</p>

<p style="margin-left:14%;">The hostname of the vhost. This
vhost policy will be applied to any client connection that
is directed to this hostname.</p>

<p style="margin-left:9%; margin-top: 1em"><i>aliases</i>
(string)</p>

<p style="margin-left:14%;">Alternate hostnames that share
this vhost configuration. Hosts named in this attribute are
treated as if this vhost was defined with the alias name in
the vhost <i>hostname</i> attribute. This attribute is
implemented to help with multitenant configurations where
multiple vhosts share a common configuration. The string is
a comma&minus; or space&minus;separated list of literal
hostnames or hostname patterns. A vhost aliases hostname
must be unique across all vhost hostnames and all of their
aliases.</p>


<p style="margin-left:9%; margin-top: 1em"><i>maxConnections</i>
(integer, default=<i>65535</i>)</p>

<p style="margin-left:14%;">The global maximum number of
concurrent client connections allowed for this vhost.</p>


<p style="margin-left:9%; margin-top: 1em"><i>maxConnectionsPerUser</i>
(integer, default=<i>65535</i>)</p>

<p style="margin-left:14%;">The maximum number of
concurrent client connections allowed for any user.</p>


<p style="margin-left:9%; margin-top: 1em"><i>maxConnectionsPerHost</i>
(integer, default=<i>65535</i>)</p>

<p style="margin-left:14%;">The maximum number of
concurrent client connections allowed for any remote host
(the host from which the client is connecting).</p>


<p style="margin-left:9%; margin-top: 1em"><i>allowUnknownUser</i>
(boolean)</p>

<p style="margin-left:14%;">Whether unknown users (users
who are not members of a defined user group) are allowed to
connect to the vhost. Unknown users are assigned to the
<i>$default</i> user group and receive <i>$default</i>
settings.</p>

<p style="margin-left:9%; margin-top: 1em"><i>groups</i>
(map)</p>

<p style="margin-left:14%;">A map where the key is a vhost
user group name and the value is a vhostUserGroupSettings
object that holds the settings for that vhost user
group.</p>

<h3>vhostUserGroupSettings
<a name="vhostUserGroupSettings"></a>
</h3>


<p style="margin-left:9%; margin-top: 1em">Policy settings
for users connecting to a vhost. Configuration files
including this section must use .json format.</p>


<p style="margin-left:9%; margin-top: 1em"><i>maxFrameSize</i>
(integer)</p>

<p style="margin-left:14%;">The largest frame, in bytes,
that may be sent on this connection. Non&minus;zero policy
values overwrite values specified for a listener object
(AMQP Open, max&minus;frame&minus;size).</p>


<p style="margin-left:9%; margin-top: 1em"><i>maxSessionWindow</i>
(integer)</p>

<p style="margin-left:14%;">The incoming capacity for new
AMQP sessions, measured in octets. Non&minus;zero policy
values overwrite values specified for a listener object
(AMQP Begin, incoming&minus;window).</p>


<p style="margin-left:9%; margin-top: 1em"><i>maxSessions</i>
(integer)</p>

<p style="margin-left:14%;">The maximum number of sessions
that may be created on this connection. Non&minus;zero
policy values overwrite values specified for a listener
object (AMQP Open, channel&minus;max).</p>


<p style="margin-left:9%; margin-top: 1em"><i>maxSenders</i>
(integer, default=<i>2147483647</i>)</p>

<p style="margin-left:14%;">The maximum number of sending
links that may be created on this connection. A value of
<i>0</i> disables all sender links.</p>


<p style="margin-left:9%; margin-top: 1em"><i>maxReceivers</i>
(integer, default=<i>2147483647</i>)</p>

<p style="margin-left:14%;">The maximum number of receiving
links that may be created on this connection. A value of
<i>0</i> disables all receiver links.</p>


<p style="margin-left:9%; margin-top: 1em"><i>allowDynamicSource</i>
(boolean)</p>

<p style="margin-left:14%;">Whether this connection is
allowed to create dynamic receiving links (links to
resources that do not exist on the peer). A value of
<i>true</i> means that users are able to automatically
create resources on the peer system.</p>


<p style="margin-left:9%; margin-top: 1em"><i>allowAnonymousSender</i>
(boolean)</p>

<p style="margin-left:14%;">Whether this connection is
allowed to create sending links if the sender does not
provide a target address. By prohibiting anonymous senders,
the router only needs to verify once, when the link is
created, that the sender is permitted to send messages to
the target address. The router does not need to verify each
message that is sent on the link. A value of <i>true</i>
means that users may send messages to any address. Allowing
anonymous senders can also decrease performance: if the
sender does not specify a target address, then the router
must parse each message to determine how to route it.</p>


<p style="margin-left:9%; margin-top: 1em"><i>allowUserIdProxy</i>
(boolean)</p>

<p style="margin-left:14%;">Whether this connection is
allowed to send messages with a user ID that is different
than the connection&rsquo;s authenticated user name.</p>


<p style="margin-left:9%; margin-top: 1em"><i>allowAdminStatusUpdate</i>
(boolean, default=<i>True</i>)</p>

<p style="margin-left:14%;">Whether this connection is
allowed to update the admin status of other connections.
Note: Inter&minus;router connections cannot be deleted at
any time.</p>

<p style="margin-left:9%; margin-top: 1em"><i>sources</i>
(string)</p>

<p style="margin-left:14%;">A list of source addresses from
which users in this group may receive messages. To specify
multiple addresses, separate the addresses with either a
comma or a space. If you do not specify any addresses, users
in this group are not allowed to receive messages from any
addresses. You can use the substitution token ${user} to
specify an address that contains a user&rsquo;s
authenticated user name. You can use an asterisk (<i>*</i>)
wildcard to match one or more characters in an address.
However, this wildcard is only recognized if it is the last
character in the address name. You may specify attributes
<i>sources</i> or <i>sourcePattern</i> but not both at the
same time.</p>

<p style="margin-left:9%; margin-top: 1em"><i>targets</i>
(string)</p>

<p style="margin-left:14%;">A list of target addresses to
which users in this group may send messages. To specify
multiple addresses, separate the addresses with either a
comma or a space. If you do not specify any addresses, users
in this group are not allowed to send messages to any
addresses. You can use the substitution token ${user} to
specify an address that contains a user&rsquo;s
authenticated user name. You can use an asterisk (<i>*</i>)
wildcard to match one or more characters in an address.
However, this wildcard is only recognized if it is the last
character in the address name. You may specify attributes
<i>targets</i> or <i>targetPattern</i> but not both at the
same time.</p>


<p style="margin-left:9%; margin-top: 1em"><i>sourcePattern</i>
(string)</p>

<p style="margin-left:14%;">A wildcarded pattern for
matching source addresses from which users in this group may
receive messages. The pattern consists of one or more tokens
separated by a forward slash <i>/</i>. A token can be one of
the following: a * character, a # character, or a sequence
of characters that do not include /, *, or #. The * token
matches any single token. The # token matches zero or more
tokens. * has higher precedence than #, and exact match has
the highest precedence. To specify multiple addresses,
separate the addresses with either a comma or a space. You
can use the text string ${user} in a token to specify an
address that contains a user&rsquo;s authenticated user
name. If you do not specify any addresses, users in this
group are not allowed to receive messages from any
addresses. You may specify attributes <i>sources</i> or
<i>sourcePattern</i> but not both at the same time.</p>


<p style="margin-left:9%; margin-top: 1em"><i>targetPattern</i>
(string)</p>

<p style="margin-left:14%;">A wildcarded pattern for
matching target addresses to which users in this group may
send messages. The pattern consists of one or more tokens
separated by a forward slash <i>/</i>. A token can be one of
the following: a * character, a # character, or a sequence
of characters that do not include /, *, or #. The * token
matches any single token. The # token matches zero or more
tokens. * has higher precedence than #, and exact match has
the highest precedence. To specify multiple addresses,
separate the addresses with either a comma or a space. You
can use the text string ${user} in a token to specify an
address that contains a user&rsquo;s authenticated user
name. If you do not specify any addresses, users in this
group are not allowed to send messages to any addresses. You
may specify attributes <i>targets</i> or
<i>targetPattern</i> but not both at the same time.</p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>



<p style="margin-left:9%; margin-top: 1em"><b>skrouterd(8)</b>,
<b>skmanage(8)</b></p>


<p style="margin-left:9%; margin-top: 1em">https://github.com/skupperproject/skupper&minus;router</p>
<hr>
</body>
</html>


    </main>
    <nav id="-toc">
      <h4>Contents</h4>
      <div></div>
    </nav>
  </div>
</section>

<footer>
  <div>
    <div>
      <p><a href="https://twitter.com/SkupperIO"><span class="fab fa-twitter fa-lg"></span> Twitter</a></p>
      <p><a href="https://www.youtube.com/channel/UCQxHN2Qq8koCatcmKCJ4OEA"><span class="fab fa-youtube fa-lg"></span> YouTube</a></p>
      <!-- <p><a href="https://stackoverflow.com/questions/tagged/skupper"><span class="fab fa-stack-overflow fa-lg"></span> Stack Overflow</a></p> -->
      <p><a href="https://groups.google.com/forum/#!forum/skupper"><span class="fas fa-envelope fa-lg"></span> Mailing list</a></p>
      <p><a href="https://github.com/skupperproject"><span class="fab fa-github fa-lg"></span> GitHub</a></p>
    </div>
    <div>
      <h4>Skupper - Multicloud communication for Kubernetes</h4>
      <p>Skupper enables secure communication across Kubernetes
        clusters with no VPNs or special firewall rules</p>
      <p>Copyright &#169; 2024 the Skupper authors</p>
    </div>
    <div>
      <p>All code and documentation is licensed under
        the <a href="https://www.apache.org/licenses/LICENSE-2.0">Apache
        License version 2.0</a></p>
      <p>Marks may be trademarks or registered trademarks of their
        respective owners</p>
      <p><a href="/site.html">About this site</a></p>
    </div>
  </div>
</footer>



  </body>
</html>
